<UserControl x:Class="AutoConnect.Client.Views.VehicleDataView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">
    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <StackPanel Grid.Row="0" Orientation="Horizontal" Margin="0,0,0,25">
            <TextBlock Text="🚗 Vehicle Data" 
                       FontSize="28" FontWeight="Bold" 
                       Foreground="{StaticResource PrimaryTextBrush}"/>
            <Border Background="{StaticResource InfoBrush}" CornerRadius="8" 
                    Padding="8,4" Margin="15,5,0,0" VerticalAlignment="Top">
                <TextBlock Text="LIVE" FontSize="11" FontWeight="Bold" Foreground="White"/>
            </Border>
        </StackPanel>

        <!-- Content -->
        <Grid Grid.Row="1">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="2*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Vehicle Data Cards -->
            <ScrollViewer Grid.Column="0" Margin="0,0,15,0">
                <StackPanel>
                    <!-- Basic Vehicle Info -->
                    <Border Background="{StaticResource CardBackgroundBrush}" 
                            CornerRadius="12" Padding="25" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="🔍 Vehicle Identification" 
                                       FontSize="18" FontWeight="SemiBold" 
                                       Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                            
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>
                                
                                <StackPanel Grid.Column="0" Margin="0,0,20,0">
                                    <TextBlock Text="VIN Number:" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="14" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding VehicleVin, FallbackValue=Not Available}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontSize="16" FontWeight="Medium"
                                               TextWrapping="Wrap"/>
                                </StackPanel>
                                
                                <StackPanel Grid.Column="1">
                                    <TextBlock Text="Connection Mode:" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="14" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding ConnectionMode, FallbackValue=Unknown}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontSize="16" FontWeight="Medium"/>
                                </StackPanel>
                            </Grid>
                        </StackPanel>
                    </Border>

                    <!-- Power System -->
                    <Border Background="{StaticResource CardBackgroundBrush}" 
                            CornerRadius="12" Padding="25" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="⚡ Power System" 
                                       FontSize="18" FontWeight="SemiBold" 
                                       Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                            
                            <UniformGrid Columns="3">
                                <StackPanel Margin="0,0,15,0">
                                    <TextBlock Text="Battery Voltage" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding BatteryVoltage, FallbackValue=0.0V}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                                
                                <StackPanel Margin="15,0">
                                    <TextBlock Text="KL15 (Ignition)" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding Kl15Status, FallbackValue=OFF}" 
                                               Foreground="{Binding Kl15Status, Converter={StaticResource StatusToColorConverter}}" 
                                               FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                                
                                <StackPanel Margin="15,0,0,0">
                                    <TextBlock Text="KL30 (Battery)" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding Kl30Status, FallbackValue=OFF}" 
                                               Foreground="{Binding Kl30Status, Converter={StaticResource StatusToColorConverter}}" 
                                               FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                            </UniformGrid>
                        </StackPanel>
                    </Border>

                    <!-- Engine Data -->
                    <Border Background="{StaticResource CardBackgroundBrush}" 
                            CornerRadius="12" Padding="25" Margin="0,0,0,20">
                        <StackPanel>
                            <TextBlock Text="🏎️ Engine Performance" 
                                       FontSize="18" FontWeight="SemiBold" 
                                       Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                            
                            <UniformGrid Columns="3">
                                <StackPanel Margin="0,0,15,0">
                                    <TextBlock Text="Engine RPM" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding EngineRpm, FallbackValue=0}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                                
                                <StackPanel Margin="15,0">
                                    <TextBlock Text="Vehicle Speed" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding VehicleSpeed, FallbackValue=0 km/h}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                                
                                <StackPanel Margin="15,0,0,0">
                                    <TextBlock Text="Ignition Status" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12" Margin="0,0,0,5"/>
                                    <TextBlock Text="{Binding IgnitionStatus, FallbackValue=OFF}" 
                                               Foreground="{Binding IgnitionStatus, Converter={StaticResource StatusToColorConverter}}" 
                                               FontSize="24" FontWeight="Bold"/>
                                </StackPanel>
                            </UniformGrid>
                        </StackPanel>
                    </Border>
                </StackPanel>
            </ScrollViewer>

            <!-- Right Panel - Live Data Stream -->
            <Border Grid.Column="1" Background="{StaticResource CardBackgroundBrush}" 
                    CornerRadius="12" Padding="20">
                <StackPanel>
                    <TextBlock Text="📊 Live Data Stream" 
                               FontSize="16" FontWeight="SemiBold" 
                               Foreground="{StaticResource PrimaryTextBrush}" Margin="0,0,0,15"/>
                    
                    <ScrollViewer MaxHeight="400" VerticalScrollBarVisibility="Auto">
                        <StackPanel>
                            <!-- Data refresh info -->
                            <Border Background="{StaticResource TertiaryBackgroundBrush}" 
                                    CornerRadius="8" Padding="15" Margin="0,0,0,10">
                                <StackPanel>
                                    <TextBlock Text="Last Update:" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12"/>
                                    <TextBlock Text="{Binding LastUpdateTime, FallbackValue=Never}" 
                                               Foreground="{StaticResource PrimaryTextBrush}" FontWeight="Medium" FontSize="14"/>
                                </StackPanel>
                            </Border>
                            
                            <!-- Connection status -->
                            <Border Background="{StaticResource TertiaryBackgroundBrush}" 
                                    CornerRadius="8" Padding="15" Margin="0,0,0,10">
                                <StackPanel>
                                    <TextBlock Text="Connection Status:" 
                                               Foreground="{StaticResource TertiaryTextBrush}" FontSize="12"/>
                                    <TextBlock Text="{Binding ConnectionStatus, FallbackValue=Unknown}" 
                                               Foreground="{Binding IsOverallConnected, Converter={StaticResource BoolToStatusBrushConverter}}" 
                                               FontWeight="Bold" FontSize="14"/>
                                </StackPanel>
                            </Border>
                        </StackPanel>
                    </ScrollViewer>
                    
                    <!-- Action Buttons -->
                    <StackPanel Margin="0,20,0,0">
                        <Button Content="🔄 Refresh Data" 
                                Command="{Binding RefreshDataCommand}"
                                Style="{StaticResource AccentButtonStyle}" 
                                Margin="0,0,0,10"/>
                        <Button Content="📋 Export Current Data" 
                                Style="{StaticResource SecondaryButtonStyle}"/>
                    </StackPanel>
                </StackPanel>
            </Border>
        </Grid>
    </Grid>
</UserControl>